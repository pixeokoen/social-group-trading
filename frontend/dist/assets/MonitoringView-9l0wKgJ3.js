import{d as b,r as _,c as k,k as S,a as i,b as t,t as o,F as v,e as f,s as L,o as l}from"./index-CK_gKUp_.js";const M={class:"min-h-screen bg-gray-50 py-8"},F={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},B={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},A={class:"bg-white overflow-hidden shadow rounded-lg"},P={class:"p-5"},V={class:"flex items-center"},C={class:"ml-5 w-0 flex-1"},E={class:"text-lg font-medium text-gray-900"},T={class:"bg-white overflow-hidden shadow rounded-lg"},j={class:"p-5"},D={class:"flex items-center"},N={class:"ml-5 w-0 flex-1"},q={class:"text-lg font-medium text-gray-900"},z={class:"bg-white overflow-hidden shadow rounded-lg"},$={class:"p-5"},H={class:"flex items-center"},I={class:"ml-5 w-0 flex-1"},R={class:"text-lg font-medium text-gray-900"},G={class:"bg-white shadow overflow-hidden sm:rounded-md mb-8"},J={class:"border-t border-gray-200"},K={key:0,class:"p-6 text-center"},O={key:1,class:"p-6 text-center text-gray-500"},Q={key:2,class:"overflow-x-auto"},U={class:"min-w-full divide-y divide-gray-200"},W={class:"bg-white divide-y divide-gray-200"},X={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},st={class:"px-6 py-4 whitespace-nowrap"},ot={class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800"},at={class:"bg-white shadow overflow-hidden sm:rounded-md"},it={class:"border-t border-gray-200"},lt={key:0,class:"p-6 text-center text-gray-500"},rt={key:1,class:"overflow-x-auto"},dt={class:"min-w-full divide-y divide-gray-200"},nt={class:"bg-white divide-y divide-gray-200"},ct={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},mt={class:"px-6 py-4 whitespace-nowrap"},ut={class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"},ht=b({__name:"MonitoringView",setup(gt){const a=_(null),d=_(!0),w=k(()=>{if(!a.value)return[];const r=new Set;return a.value.take_profit_levels.forEach(e=>r.add(e.symbol)),a.value.stop_loss_levels.forEach(e=>r.add(e.symbol)),Array.from(r)}),n=async()=>{try{d.value=!0;const r=await L.get("/api/monitoring/levels");a.value=r.data}catch(r){console.error("Error fetching monitoring data:",r)}finally{d.value=!1}};return S(()=>{n(),setInterval(n,3e4)}),(r,e)=>{var c,x,p,m,u,g,y,h;return l(),i("div",M,[t("div",F,[e[11]||(e[11]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Trade Monitoring"),t("p",{class:"mt-2 text-gray-600"},"Monitor active take profit and stop loss levels")],-1)),t("div",B,[t("div",A,[t("div",P,[t("div",V,[e[1]||(e[1]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),t("div",C,[t("dl",null,[e[0]||(e[0]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Active Take Profit Levels",-1)),t("dd",E,o(((c=a.value)==null?void 0:c.total_tp_levels)||0),1)])])])])]),t("div",T,[t("div",j,[t("div",D,[e[3]||(e[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})])],-1)),t("div",N,[t("dl",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Active Stop Loss Levels",-1)),t("dd",q,o(((x=a.value)==null?void 0:x.total_sl_levels)||0),1)])])])])]),t("div",z,[t("div",$,[t("div",H,[e[5]||(e[5]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",I,[t("dl",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Symbols",-1)),t("dd",R,o(w.value.length),1)])])])])])]),t("div",G,[e[8]||(e[8]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Take Profit Levels"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"},"Active take profit orders waiting to be executed")],-1)),t("div",J,[d.value?(l(),i("div",K,e[6]||(e[6]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),t("p",{class:"mt-2 text-gray-500"},"Loading monitoring data...",-1)]))):((m=(p=a.value)==null?void 0:p.take_profit_levels)==null?void 0:m.length)===0?(l(),i("div",O," No active take profit levels ")):(l(),i("div",Q,[t("table",U,[e[7]||(e[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Symbol"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Level"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Price"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Percentage"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Shares"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status")])],-1)),t("tbody",W,[(l(!0),i(v,null,f((u=a.value)==null?void 0:u.take_profit_levels,s=>(l(),i("tr",{key:s.id},[t("td",X,o(s.symbol),1),t("td",Y," Level "+o(s.level_number),1),t("td",Z," $"+o(s.price.toFixed(2)),1),t("td",tt,o(s.percentage.toFixed(1))+"% ",1),t("td",et,o(s.shares_quantity.toFixed(4)),1),t("td",st,[t("span",ot,o(s.status),1)])]))),128))])])]))])]),t("div",at,[e[10]||(e[10]=t("div",{class:"px-4 py-5 sm:px-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Stop Loss Levels"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"},"Active stop loss orders for position protection")],-1)),t("div",it,[((y=(g=a.value)==null?void 0:g.stop_loss_levels)==null?void 0:y.length)===0?(l(),i("div",lt," No active stop loss levels ")):(l(),i("div",rt,[t("table",dt,[e[9]||(e[9]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Symbol"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Price"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Remaining Shares"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status")])],-1)),t("tbody",nt,[(l(!0),i(v,null,f((h=a.value)==null?void 0:h.stop_loss_levels,s=>(l(),i("tr",{key:s.id},[t("td",ct,o(s.symbol),1),t("td",xt," $"+o(s.price.toFixed(2)),1),t("td",pt,o(s.remaining_shares.toFixed(4)),1),t("td",mt,[t("span",ut,o(s.status),1)])]))),128))])])]))])])])])}}});export{ht as default};
